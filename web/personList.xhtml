<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
</h:head>
<h:body>
    <ui:composition template="./index.xhtml">
        <ui:define name="content">

            <f:view>
                <h:form id="frmPersonsList">

                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <h3 class="panel-title">Admin: #{hrservice.user.user_name} / Person</h3>
                        </div>
                    </div>

                    <table>
                        <tr valign="baseline">
                            <td width="700px">
                                <h:commandLink value="Add Person"
                                               actionListener="#{hrservice.getPersonNew()}"
                                               action="personAction"
                                               styleClass="btn btn-primary"/></td>
                            <td width="10px"></td>
                            <td width="300px">
                                <b:inputText placeholder="Type something here..." value="#{hrservice.searchBy}"/>
                            </td>
                            <td width="10px"></td>
                            <td><h:commandLink value="Search"
                                               action="personList"
                                               styleClass="btn btn-success"/></td>
                        </tr>
                    </table>
                    <br></br>


                    <b:dataTable id="tablePerson" value="#{hrservice.personsList}"
                                 fixedHeader="true"
                                 scroll-size="400px"
                                 scroll-x="false"
                                 responsive="true"
                                 searching="false"
                                 var="personItems">

                        <b:column headerClass="bg-info">
                            <f:facet name="header">DNI</f:facet>
                            #{personItems.dni}
                        </b:column>
                        <b:column headerClass="bg-info">
                            <f:facet name="header">First name</f:facet>
                            #{personItems.first_name}
                        </b:column>
                        <b:column headerClass="bg-info">
                            <f:facet name="header">Last name</f:facet>
                            #{personItems.last_name}
                        </b:column>
                        <b:column headerClass="bg-info">
                            <f:facet name="header">E-mail</f:facet>
                            #{personItems.email}
                        </b:column>
                        <b:column headerClass="bg-info">
                            <f:facet name="header">Address</f:facet>
                            #{personItems.address}
                        </b:column>
                        <b:column headerClass="bg-info">
                            <f:facet name="header">Phone number</f:facet>
                            #{personItems.phone_number}
                        </b:column>
                        <b:column headerClass="bg-info">
                            <f:facet name="header">Birth date</f:facet>
                            #{personItems.birth_date}
                        </b:column>
                        <b:column headerClass="bg-info">
                            <f:facet name="header">Status</f:facet>
                            <b:selectBooleanCheckbox value="#{personItems.status}"
                                                     onclick="return false;"/>
                        </b:column>

                        <h:column headerClass="bg-info">
                            <f:facet name="header">Action</f:facet>


                            <h:commandLink value="Edit"
                                           actionListener="#{hrservice.personEdit(personItems)}"
                                           action="personAction"> </h:commandLink>


                            &nbsp;
                            <h:commandLink value="User"
                                           actionListener="#{hrservice.getUserEdit(personItems)}"
                                           action="userAction"></h:commandLink>
                            &nbsp;
                            <h:commandLink value="Pet"
                                           actionListener="#{hrservice.getPetList(personItems)}"
                                           action="petList">

                            </h:commandLink>

                        </h:column>

                    </b:dataTable>


                </h:form>
            </f:view>

        </ui:define>
    </ui:composition>
</h:body>
</html>
